<div class="am-cf am-padding">
    <div class="am-fl am-cf">
        <strong class="am-text-primary am-text-lg">软件管理</strong> /
        <small>软件详情</small>
    </div>
</div>

<div class="am-g" ng-controller="softDetailCtrl">
    <div class="am-u-sm-12">
        <div class="am-tab-panel am-fade am-active am-in" id="tab2">
            <form class="am-form" name="docForm">
                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        标题
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.title" required>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">*必填，不可重复</div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        分类
                    </div>
                    <div class="am-u-sm-4 am-u-md-2">
                        <select ng-options="f as f.name for f in categories track by f.id" ng-model="categoryOne" required></select>
                    </div>
                    <div class="am-u-sm-4 am-u-md-2">
                        <select ng-options="c as c.name for c in categoryOne.children track by c.id" ng-model="categoryTwo" required></select>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6"> *必填</div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        牛人币
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="number" class="am-input-sm" ng-model="data.costScore" min="0" max="9999" required>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">*必填，只能是 0-9999之间</div>
                </div>

                <div class="am-g am-margin-top-sm">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right admin-form-text">
                        描述
                    </div>
                    <div class="am-u-sm-4 am-u-md-4">
                        <textarea rows="10" placeholder="请输入描述" ng-model="data.description" ></textarea>
                    </div>
                    <div class="am-u-sm-4 am-u-md-6">* 必填</div>
                </div>

                <div class="am-g am-margin-top-sm">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right admin-form-text">
                        文件说明
                    </div>
                    <div class="am-u-sm-4 am-u-md-4">
                        <textarea rows="10" placeholder="请输入文件说明" ng-model="data.specification" ></textarea>
                    </div>
                    <div class="am-u-sm-4 am-u-md-6">* 必填</div>
                </div>

                <div class="am-g am-margin-top-sm">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right admin-form-text">
                        附件
                    </div>
                    <div class="am-u-sm-4 am-u-md-4">
                        <ul  ng-repeat="item in data.softs">
                            <li ><a>{{item.fileName}}</a>   <button ng-click="downloadIteam(item.id)">下载</button></li>
                        </ul>
                    </div>
                    <div class="am-u-sm-4 am-u-md-6"></div>
                </div>

                <div class="am-g" ng-if="upPorgress">
                    <div class="am-u-md-offset-2 am-u-md-4" style="border: 1px solid gray; position: relative; height: 5px;">
                        <div style="position: absolute; top: 0; left: 0; height: 100%; background: #96bbe4; width: {{upPorgress||0}}%"></div>
                    </div>
                    <div class="am-u-md-6"></div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-md-offset-2">
                       <!-- <button type="button" class="am-btn am-btn-success am-btn-xs am-margin-left-sm" ng-click="download()">查看文件</button>-->
                        <button type="button" class="am-btn am-btn-primary am-btn-xs" ng-click="save()" ng-disabled="docForm.$invalid">提交保存</button>
                        <a class="am-btn am-btn-secondary am-btn-xs" ui-sref="softList()">返回列表</a>

                        <button type="button" ng-if="data.state === 4" class="am-btn am-btn-success am-btn-xs am-margin-left-sm" ng-click="review(true)">审核通过</button>
                        <button type="button" ng-if="data.state === 4" class="am-btn am-btn-warning am-btn-xs" ng-click="review(false)">审核不通过</button>

                        <button type="button" class="am-btn am-btn-danger am-btn-xs am-margin-left-sm" ng-click="delete()">删除文档</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="downloadDialog" style="padding: 20px; width: 540px; display: none;">
</div>