<div class="am-cf am-padding">
    <div class="am-fl am-cf">
        <strong class="am-text-primary am-text-lg">用户管理</strong> /
        <small>用户详情</small>
    </div>
</div>

<div class="am-g" ng-controller="userDetailCtrl">
    <div class="am-u-sm-12 am-padding-bottom-lg" ng-class="{'error':data.state===-1}">
        <div class="am-tab-panel am-fade am-active am-in" id="tab2">
            <form class="am-form" name="userForm">
                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        帐号（手机号）
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.mobile" readonly>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">*必填，不可重复</div>
                </div>
                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        密码
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="password" class="am-input-sm" ng-model="data.password">
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">如果填写此项则更改用户密码</div>
                </div>
                <hr>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        姓名
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.name" required>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">*必填</div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        昵称
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.nickname">
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">用户展示名称</div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        邮箱
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.mailAddress">
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">用户邮箱地址</div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        地址
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <input type="text" class="am-input-sm" ng-model="data.address" maxlength="150">
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">不要超过150个字哟</div>
                </div>

                <div class="am-g am-margin-top" ng-show="data.id">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        用户头像
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <img ng-if="data.avatar" class="am-img-thumbnail am-img-bdrs" ng-src="/files/{{data.avatar}}" alt="" style="max-width: 200px; max-height: 200px;">
                    </div>
                    <div class="am-hide-sm-only am-u-md-6" ng-if="adminPermissions.indexOf('user:w') != -1 || admin.isRoot">
                        <label class="am-btn am-btn-primary am-btn-sm" ng-show="data.state!==-1">
                            <input type="file" style="display: none;" ng-file="data.file" fileChange="fileChanged(ngFile)" ng-disabled="data.file">
                            <span>{{data.file ? '上传中……' : '点击上传头像'}}</span>
                        </label>
                    </div>
                </div>

                <div class="am-g am-margin-top">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right">
                        用户身份
                    </div>
                    <div class="am-u-sm-8 am-u-md-4">
                        <a ng-if="isParter" class="am-badge am-badge-success">区域合伙人</a>
                        <a ng-if="data.isMember" class="am-badge am-badge-warning">超级会员</a>
                        <a ng-if="data.isModerator" class="am-badge am-badge-primary">版块版主</a>
                        <a ng-if="data.isLecturer" class="am-badge am-badge-secondary">课程讲师</a>
                    </div>
                    <div class="am-hide-sm-only am-u-md-6">&nbsp;</div>
                </div>

                <div class="am-g am-margin-top-sm">
                    <div class="am-u-sm-4 am-u-md-2 am-text-right admin-form-text">
                        个人介绍
                    </div>
                    <div class="am-u-sm-4 am-u-md-4">
                        <textarea rows="10" ng-model="data.description"></textarea>
                    </div>
                    <div class="am-u-sm-4 am-u-md-6">写点什么吧</div>
                </div>
                <div class="am-g am-margin-top">
                    <div class="am-u-md-offset-2">
                        <button ng-if="data.state!==-1 && (adminPermissions.indexOf('user:w') != -1 || admin.isRoot)" type="button" class="am-btn am-btn-primary am-btn-xs" ng-click="save()" ng-disabled="userForm.$invalid">提交保存</button>
                        <span class="am-btn am-btn-xs am-disabled" ng-show="data.state===-1">用户已删除，无法修改保存</span>
                        <button ng-if="data.state!==-1 && (adminPermissions.indexOf('parter:w') != -1 || admin.isRoot) && !isParter" type="button" class="am-btn am-btn-success am-btn-xs" ng-click="mark()">标记为合伙人</button>
                        <button ng-if="!data.isLecturer && (adminPermissions.indexOf('user:w') != -1 || admin.isRoot)" type="button" class="am-btn am-btn-secondary am-btn-xs" ng-click="createLecturer()">标记为讲师</button>
                        <button ng-if="data.isLecturer && (adminPermissions.indexOf('user:w') != -1 || admin.isRoot)" type="button" class="am-btn am-btn-danger am-btn-xs" ng-click="deleteLecturer()">删除讲师</button>
                        <a class="am-btn am-btn-warning am-btn-xs" onclick="javascript:history.back();">返回列表</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>