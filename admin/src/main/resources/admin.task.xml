<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd">

    <description>Admin的定时任务</description>

    <bean class="com.lld360.cnc.admin.quartz.MediaQuartz" id="mediaQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.UnfreezeAdminQuartz" id="unfreezeAdminQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.CategoryDailyReportQuartz" id="categoryDailyReportQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.UserStatementRefreshQuartz" id="userStatementRefreshQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.DeleteOverdueStatementQuartz" id="deleteOverdueStatementQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.RefreshAlipayTransferStateQuartz" id="refreshAlipayTransferStateQuartz"/>
    <bean class="com.lld360.cnc.admin.quartz.SMSQuartz" id="validSmsServiceQuartz"/>


    <task:scheduler id="springScheduler" pool-size="7"/>
    <task:annotation-driven/>
    <task:scheduled-tasks>

        <!--每天凌晨两点执行-->
        <task:scheduled ref="categoryDailyReportQuartz" method="createCategoryDailyReport" cron="0 3 0 * * ?"/>
        <task:scheduled ref="categoryDailyReportQuartz" method="dailyStatisticsReport" cron="0 8 0 * * ?"/>
        <task:scheduled ref="refreshAlipayTransferStateQuartz" method="refresh" cron="0 0/2 * * * ?"/>
        <task:scheduled ref="userStatementRefreshQuartz" method="refresh" cron="0 10 8-18 * * ?"/>
        <task:scheduled ref="deleteOverdueStatementQuartz" method="doJob" cron="0 12 0 * * ?"/>
        <task:scheduled ref="unfreezeAdminQuartz" method="unfreezeAdmin" cron="0 15 0 * * ?"/>
        <task:scheduled ref="validSmsServiceQuartz" method="clearMobileChecker" cron="20 * * * * ?"/>


        <!--每隔十分钟执行-->
        <!--<task:scheduled ref="mediaQuartz" method="queryMediaState" cron="0 0/10 * * * ?"/>-->

    </task:scheduled-tasks>

</beans>