<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:task="http://www.springframework.org/schema/task"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task.xsd">

    <description>WebSite的定时任务</description>

    <bean class="com.lld360.cnc.website.quartz.ContextQuartz" id="contextQuartz" init-method="doInitTask"/>
    <bean class="com.lld360.cnc.website.quartz.SiteMapQuartz" id="siteMapQuartz" />
    <bean class="com.lld360.cnc.website.quartz.ModeratorQuartz" id="moderatorQuartz" />


    <task:scheduler id="springScheduler" pool-size="3"/>
    <task:annotation-driven/>
    <task:scheduled-tasks>
        <!--每隔一小时执行-->
        <task:scheduled ref="contextQuartz" method="updateHotSearchWords" cron="0 0 8-18 * * ?"/>

        <!-- site map-->
        <task:scheduled ref="siteMapQuartz" method="genSiteMapFile" cron="0 0 1,6,12,16,18,23 * * ?"/>

        <!--版主工资-->
        <task:scheduled ref="moderatorQuartz" method="checkModeratorScore" cron="0 30 0 1 * ?"/>
        <!--<task:scheduled ref="moderatorQuartz" method="checkModeratorScore" cron="0 20 16 * * ?"/>-->

    </task:scheduled-tasks>

</beans>